<div class="box box-default">
    <form [formGroup]="cashPaymentForm">
        <div class="col-md-12 mt-5 mr-2">
            <div class="col-md-4">
                <div class="row clearfix">
                    <div class="col-md-5">
                        <label class="float-right">Series no:</label>
                    </div>
                    <div class="col-md-7">
                        <select class="form-control" id="seriesId" formControlName="series">
                            <option *ngFor="let series of cashPaymentService.seriesList" [ngValue]="series.ID">
                                {{ series.EngName }}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="row clearfix mt-3">
                    <div class="col-md-5">
                        <label class="float-right">Cash Account: </label>
                    </div>
                    <div class="col-md-7">
                        <select class="form-control" id="cashAccount" formControlName="cashAccount">
                            <option *ngFor="let cash of cashPaymentService.cashAccountLists" [ngValue]="cash.LedgerID">
                                {{ cash.LedgerName }}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="row clearfix mt-3">
                    <div class="col-md-5">
                        <label class="float-right">Cash Party/Customer</label>
                    </div>
                    <div class="col-md-7">
                        <select class="form-control">
                            <option value="null"> </option>
                            <option></option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="row clearfix">
                    <div class="col-md-5">
                        <label class="float-right">Voucher#:</label>
                    </div>
                    <div class="col-md-7">
                        <input class="form-control" formControlName="voucher" />
                    </div>
                </div>
                <div class="row clearfix mt-3">
                    <div class="col-md-5">
                        <label class="float-right">Project:</label>
                    </div>
                    <div class="col-md-7">
                        <select class="form-control" formControlName="project" id="projectId">
                            <option value="null"></option>
                            <option *ngFor="let project of cashPaymentService.projectLists" [ngValue]="project.ID">
                                {{ project.EngName }}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="row clearfix mt-3">
                    <div class="col-md-5">
                        <label class="float-right">Current Balance </label>
                    </div>
                    <div class="col-md-7">
                        <span>0.00</span>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="row clearfix">
                    <div class="col-md-5">
                        <label class="float-right">Date:</label>
                    </div>
                    <div class="col-md-7">
                        <input type="date" class="form-control" [value]="date | date: 'MM/DD/YYYY'" />
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-12 mt-5 ml-2">
            <!-- Kendo Grid is started -->
            <kendo-grid [data]="getcashPaymentEntryList.value" (edit)="editHandler($event)"
                (cancel)="cancelHandler($event)" (save)="saveHandler($event)" (remove)="removeHandler($event)"
                (add)="addHandler($event)">
                <ng-template kendoGridToolbarTemplate>
                    <button kendoGridAddCommand>Add New</button>
                </ng-template>

                <kendo-grid-column title="Particulars Or Accounting Head" field="particularOrAccountingHead"
                    width="300">
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-column="column"
                        let-formGroup="formGroup" let-isNew="isNew" let-rowIndex="rowIndex">
                        <div class="col-md-12 p-0">
                            <div class="col-md-4 pl-0">
                                <input #input class="k-textbox" style="width: 100px;" placeholder="Ledger Code"
                                    [formControl]="
                    getcashPaymentEntryList.controls[rowIndex].get('ledgerCode')
                  " (change)="changeLedgerValue(dataItem, rowIndex)" />
                                <kendo-popup [anchor]="input" *ngIf="
                    getcashPaymentEntryList.controls[rowIndex].get('ledgerCode')
                      .invalid
                  " popupClass="k-widget k-tooltip k-tooltip-validation k-invalid-msg">
                                    <span class="k-icon k-i-warning"></span>
                                    Ledger Code is invalid
                                </kendo-popup>
                            </div>

                            <div class="col-md-8 pr-0">
                                <input #input class="k-textbox" [readonly]="true" [formControl]="
                    getcashPaymentEntryList.controls[rowIndex].get(
                      'particularsOrAccountingHead'
                    )
                  " />
                                <a (click)="openModal(rowIndex)"><i class="fa fa-eye pull-right ledgerSelectIcon"
                                        aria-hidden="true"></i></a>
                                <kendo-popup [anchor]="input" *ngIf="getcashPaymentEntryList.controls[rowIndex].get()">
                                </kendo-popup>
                            </div>
                        </div>
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column title="Voucher No" field="voucherNo" width="150">
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-column="column"
                        let-formGroup="formGroup" let isNew="isNew" let-rowIndex="rowIndex">
                        <input style="width: 130px;" [formControl]="
                getcashPaymentEntryList.controls[rowIndex].get(column.field)
              " />
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column title="Amount" width="200">
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-column="column"
                        let-formGroup="formGroup" let-isNew="isNew" let-rowIndex="rowIndex">
                        <kendo-numerictextbox> </kendo-numerictextbox>
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column title="Current Balance" field="currentBalance" title="Current Balance" width="150">
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-column="column"
                        let-formGroup="formGroup" let-isNew="isNew">
                        <kendo-numerictextbox style="width: 130px;"> </kendo-numerictextbox>
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column title="V. Type" field="vType" width="150">
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-column="column"
                        let-formGroup="formGroup" let-isNew="isNew" let-rowIndex="rowIndex">
                        <input #input class="k-textbox" />
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column title="Remarks">
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-column="column"
                        let-formGroup="formGroup" let-isNew="isNew" let-rowIndex="rowIndex">
                        <input type="" class="k-textbox" />
                    </ng-template>
                </kendo-grid-column>

                <kendo-grid-column title="Action">
                    <ng-template kendoGridCellTemplate let-dataItem="dataItem" let-column="column"
                        let-formGroup="formGroup" let-isNew="isNew" let-rowIndex="rowIndex">
                    </ng-template>
                </kendo-grid-column>
            </kendo-grid>
        </div>
    </form>
</div>