<div class="box box-default">
  <div class="row">
    <accSwift-create-reports
      [reportType]="'TRIAL'"
      [formGroup]="trailBalanceForms"
    ></accSwift-create-reports>
  </div>
  <div class="row">
    <div class="col-md-12">
      <button
        type="button"
        class="btn-primary m-3"
        (click)="openTrialBalanceSettings()"
      >
        Trail Balance Settings
      </button>

      <button
        class="btn btn-default mr-2 mt-2"
        style="float: right"
        tooltip="Print"
        printSectionId="print-section"
        ngxPrint
        [useExistingCss]="true"
      >
        <i class="{{ iconConst.PRINT }}"></i>
      </button>
    </div>
    <h1 style="text-align: center">Trial Balance</h1>
    <h3 style="text-align: center" *ngIf="projectName">
      Project : {{ projectName }}
    </h3>

    <div class="col-md-12">
      <div class="grid-wrapper">
        <div class="table-box">
          <div id="print-section">
            <div class="report_format">
              <div
                class="col-lg-12"
                align="center"
                style="padding-bottom: 20px"
              >
                <div class="company-logo">
                  <img
                    style="width: 120px"
                    [src]="companyLogo"
                    alt="companyLogo"
                  />
                </div>
                <div class="company-details" style="text-align: center">
                  <b>{{ companyDetails?.Name }}</b>
                  <span style="display: block"
                    >{{ companyDetails?.Address1 }},{{
                      companyDetails?.Address2
                    }}</span
                  >
                  <span style="display: block">
                    <small>Phone:</small>{{ companyDetails?.Telephone }}</span
                  >
                  <span style="display: block"
                    ><small>PAN:</small>{{ companyDetails?.PAN }}</span
                  >
                </div>
              </div>

              <div class="fiscal-date">
                <div class="col-lg-12">
                  <div class="col-lg-8">
                    <span
                      >Fiscal Year:<b>{{ companyDetails?.FiscalYear }}</b></span
                    >
                  </div>
                  <div class="col-lg-4">
                    <span
                      >As On Date:<b>{{ companyDetails?.FYFrom }}</b></span
                    >
                  </div>
                </div>
              </div>
            </div>
            <table id="header-fixed" class="table table-hover table-fixed">
              <thead>
                <tr>
                  <th colspan="1" style="text-align: left">Account Code</th>
                  <th colspan="1" style="text-align: center">Account Name</th>
                  <th colspan="1">Debit Amount</th>
                  <th colspan="1">Credit Amount</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  *ngFor="let trial of trailBalnceList; let i = index"
                  (dblclick)="openTrailBalance($event, trial)"
                >
                  <td>
                    <span *ngIf="trial.Type === 'GROUP'">
                      {{ trial.AccountCode }}
                    </span>
                    <span *ngIf="trial.Type === 'LEDGER'" style="color: blue">
                      {{ trial.AccountCode }}
                    </span>
                  </td>
                  <td>
                    <span
                      *ngIf="trial.Level === 0 && trial.Type === 'GROUP'"
                      class="group_name"
                    >
                      {{ trial.AccountName }}
                    </span>
                    <span
                      *ngIf="trial.Level === 1 && trial.Type === 'GROUP'"
                      class="group_name"
                      style="margin-left: 20px"
                    >
                      {{ trial.AccountName }}
                    </span>
                    <span
                      *ngIf="trial.Level === 2 && trial.Type === 'GROUP'"
                      class="group_name"
                      style="margin-left: 30px"
                    >
                      {{ trial.AccountName }}
                    </span>
                    <span
                      *ngIf="trial.Level === 3 && trial.Type === 'GROUP'"
                      style="margin-left: 40px"
                    >
                      {{ trial.AccountName }}
                    </span>
                    <span
                      *ngIf="trial.Level === 4 && trial.Type === 'GROUP'"
                      style="margin-left: 50px"
                    >
                      {{ trial.AccountName }}
                    </span>
                    <span
                      *ngIf="trial.Type === 'LEDGER'"
                      style="margin-left: 50px; color: blue"
                    >
                      {{ trial.AccountName }}
                    </span>
                    <span
                      *ngIf="trial.Type === null && trial.Level === 0"
                      style="float: right"
                    >
                      {{ trial.AccountName }}
                    </span>
                  </td>

                  <td class="balance">
                    <span
                      [innerHTML]="trial.DebitAmount | currencyFormat"
                    ></span>
                  </td>
                  <td class="balance">
                    <span
                      [innerHTML]="trial.CreditAmount | currencyFormat"
                    ></span>
                  </td>
                </tr>
              </tbody>
              <tbody *ngIf="trailBalnceList.length == 0">
                <tr>
                  <td colspan="7" align="center">No Data Available</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div *ngIf="listLoading" class="k-i-loading"></div>
    </div>
  </div>
</div>
